!function(t){function e(o){if(i[o])return i[o].exports;var n=i[o]={exports:{},id:o,loaded:!1};return t[o].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";window.init=function(){var t="https://the-tasty-samosa.appspot.com/_ah/api";gapi.client.load("samosa","v1",function(){var t=i(1),e=i(2),o=i(13),n=i(17),a=i(20),s=i(21),r=i(18),c=i(19),p=i(15),l=i(14),h=i(22),d=(i(24),i(23)),u=i(25),f=t.createClass({displayName:"Router",getInitialState:function(){return{component:"<div />"}},componentDidMount:function(){var i=this;this.props.routes.forEach(function(o){var a=o[0],s=o[1];e(a,function(e){var o=new RegExp("/admin/dashboard","gi");a.match(o)?t.renderComponent(h(null),document.getElementById("left-side-bar")):t.renderComponent(n(null),document.getElementById("left-side-bar")),document.getElementById("left-side-bar").style.display="block",document.getElementById("wrapper").style.display="block",i.setState({component:s({params:e.params})})})}),e.start()},render:function(){return t.DOM.div(null," ",this.state.component," ")}}),g=[["",a],["/search",a],["/popular-now",a],["/most-recent",c],["/search/:queryText",s],["/login",r],["/play/:key",p],["/embed/:key",l],["/admin/dashboard",u],["/admin/dashboard/:view-approved",d]];t.renderComponent(o(null),document.getElementById("header")),t.renderComponent(f({routes:g}),document.getElementById("right-side-bar"))},t)}},function(t,e,i){t.exports=React},function(t,e,i){(function(e){"use strict";function o(t,e){if("function"==typeof t)return o("*",t);if("function"==typeof e)for(var i=new r(t),n=1;n<arguments.length;++n)o.callbacks.push(i.middleware(arguments[n]));else"string"==typeof t?o["string"==typeof e?"redirect":"show"](t,e):o.start(t)}function n(t){if(!t.handled){var e;e=y?x+g.hash.replace("#!",""):g.pathname+g.search,e!==t.canonicalPath&&(o.stop(),t.handled=!1,g.href=t.canonicalPath)}}function a(t){return"string"!=typeof t?t:v?decodeURIComponent(t.replace(/\+/g," ")):t}function s(t,e){"/"===t[0]&&0!==t.indexOf(x)&&(t=x+(y?"#!":"")+t);var i=t.indexOf("?");if(this.canonicalPath=t,this.path=t.replace(x,"")||"/",y&&(this.path=this.path.replace("#!","")||"/"),this.title=document.title,this.state=e||{},this.state.path=t,this.querystring=~i?a(t.slice(i+1)):"",this.pathname=a(~i?t.slice(0,i):t),this.params={},this.hash="",!y){if(!~this.path.indexOf("#"))return;var o=this.path.split("#");this.path=o[0],this.hash=a(o[1])||"",this.querystring=this.querystring.split("#")[0]}}function r(t,e){e=e||{},this.path="*"===t?"(.*)":t,this.method="GET",this.regexp=h(this.path,this.keys=[],e.sensitive,e.strict)}function c(t){if(1===p(t)&&!(t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){for(var i=t.target;i&&"A"!==i.nodeName;)i=i.parentNode;if(i&&"A"===i.nodeName&&!i.hasAttribute("download")&&"external"!==i.getAttribute("rel")){var n=i.getAttribute("href");if((y||i.pathname!==g.pathname||!i.hash&&"#"!==n)&&!(n&&n.indexOf("mailto:")>-1)&&!i.target&&l(i.href)){var a=i.pathname+i.search+(i.hash||"");"undefined"!=typeof e&&a.match(/^\/[a-zA-Z]:\//)&&(a=a.replace(/^\/[a-zA-Z]:\//,"/"));var s=a;0===a.indexOf(x)&&(a=a.substr(x.length)),y&&(a=a.replace("#!","")),x&&s===a||(t.preventDefault(),o.show(s))}}}}function p(t){return t=t||window.event,null===t.which?t.button:t.which}function l(t){var e=g.protocol+"//"+g.hostname;return g.port&&(e+=":"+g.port),t&&0===t.indexOf(e)}var h=i(26);t.exports=o;var d,u,f="undefined"!=typeof document&&document.ontouchstart?"touchstart":"click",g="undefined"!=typeof window&&(window.history.location||window.location),m=!0,v=!0,x="",y=!1;o.callbacks=[],o.exits=[],o.current="",o.len=0,o.base=function(t){return 0===arguments.length?x:void(x=t)},o.start=function(t){if(t=t||{},!d&&(d=!0,!1===t.dispatch&&(m=!1),!1===t.decodeURLComponents&&(v=!1),!1!==t.popstate&&window.addEventListener("popstate",b,!1),!1!==t.click&&document.addEventListener(f,c,!1),!0===t.hashbang&&(y=!0),m)){var e=y&&~g.hash.indexOf("#!")?g.hash.substr(2)+g.search:g.pathname+g.search+g.hash;o.replace(e,null,!0,m)}},o.stop=function(){d&&(o.current="",o.len=0,d=!1,document.removeEventListener(f,c,!1),window.removeEventListener("popstate",b,!1))},o.show=function(t,e,i,n){var a=new s(t,e);return o.current=a.path,!1!==i&&o.dispatch(a),!1!==a.handled&&!1!==n&&a.pushState(),a},o.back=function(t,e){o.len>0?(history.back(),o.len--):t?setTimeout(function(){o.show(t,e)}):setTimeout(function(){o.show(x,e)})},o.redirect=function(t,e){"string"==typeof t&&"string"==typeof e&&o(t,function(t){setTimeout(function(){o.replace(e)},0)}),"string"==typeof t&&"undefined"==typeof e&&setTimeout(function(){o.replace(t)},0)},o.replace=function(t,e,i,n){var a=new s(t,e);return o.current=a.path,a.init=i,a.save(),!1!==n&&o.dispatch(a),a},o.dispatch=function(t){function e(){var t=o.exits[r++];return t?void t(a,e):i()}function i(){var e=o.callbacks[s++];return t.path!==o.current?void(t.handled=!1):e?void e(t,i):n(t)}var a=u,s=0,r=0;u=t,a?e():i()},o.exit=function(t,e){if("function"==typeof t)return o.exit("*",t);for(var i=new r(t),n=1;n<arguments.length;++n)o.exits.push(i.middleware(arguments[n]))},o.Context=s,s.prototype.pushState=function(){o.len++,history.pushState(this.state,this.title,y&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},s.prototype.save=function(){history.replaceState(this.state,this.title,y&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},o.Route=r,r.prototype.middleware=function(t){var e=this;return function(i,o){return e.match(i.path,i.params)?t(i,o):void o()}},r.prototype.match=function(t,e){var i=this.keys,o=t.indexOf("?"),n=~o?t.slice(0,o):t,s=this.regexp.exec(decodeURIComponent(n));if(!s)return!1;for(var r=1,c=s.length;c>r;++r){var p=i[r-1],l=a(s[r]);void 0===l&&hasOwnProperty.call(e,p.name)||(e[p.name]=l)}return!0};var b=function(){var t=!1;if("undefined"!=typeof window)return"complete"===document.readyState?t=!0:window.addEventListener("load",function(){setTimeout(function(){t=!0},0)}),function(e){if(t)if(e.state){var i=e.state.path;o.replace(i,e.state)}else o.show(g.pathname+g.hash,void 0,void 0,!1)}}();o.sameOrigin=l}).call(e,i(28))},function(t,e,i){"use strict";var o=i(1);t.exports=o.createClass({displayName:"exports",getInitialState:function(){return{hover:!1}},hover:function(){this.setState({hover:!this.state.hover})},render:function(){var t={mozBoxShadow:"inset -4px -19px 0px -36px #e67a73",webkitBoxShadow:"inset -4px -19px 0px -36px #e67a73",boxShadow:"inset -4px -19px 0px -36px #e67a73",backgroundColor:"#BD081C",display:"inline-block",cursor:"pointer",color:"#ffffff",fontSize:"12px",padding:"4px",textDecoration:"none",border:"solid 1px #BD081C",width:"100%",height:"100%"};return this.state.hover&&(t.backgroundImage="-webkit-linear-gradient(#e3262e, #ab171e)",t.backgroundColor="#ab171e"),o.DOM.button({onMouseEnter:this.hover,onMouseLeave:this.hover,style:t}," ",this.props.text," ")}})},function(t,e,i){"use strict";var o=i(1),n=i(9);t.exports=o.createClass({displayName:"exports",render:function(){var t={overflow:"hidden"};if(this.props.clips)var e=this.props.clips.map(function(t,e){return n({data:t,key:e})});return o.DOM.div({style:t,id:"show-clips"},e)}})},function(t,e,i){var o=i(1);CircularProgressBarGraphic=o.createClass({displayName:"CircularProgressBarGraphic",componentDidMount:function(){var t=this.getDOMNode().getContext("2d");t.width=this.props.width,t.height=this.props.height,t.translate(t.width/2,t.height/2),t.rotate(-1*Math.PI/2),this.paint(t)},componentDidUpdate:function(){var t=this.getDOMNode(),e=t.getContext("2d");e.clearRect(0,0,t.width,t.height),this.paint(e)},paint:function(t){var e=(this.props.width-this.props.lineWidth)/2;t.beginPath(),t.arc(0,0,e,0,2*Math.PI*this.props.percent,!1),t.strokeStyle="#ff0000",t.lineCap="round",t.lineWidth=this.props.lineWidth,t.stroke()},render:function(){return o.DOM.canvas({width:this.props.width,height:this.props.height,style:this.props.style})}});var n=o.createClass({displayName:"CircularProgressBar",render:function(){return this.props.percent?CircularProgressBarGraphic({width:this.props.width,height:this.props.height,style:this.props.style,percent:this.props.percent,lineWidth:this.props.lineWidth}):o.DOM.div({style:this.props.style})}}),a={STOPPED:0,LOADING:1,PLAYING:2,PAUSED:3,ENDED:4},s="undefined"!=typeof Audio?new Audio:null,r=o.createClass({displayName:"AudioPlayer",getInitialState:function(){return{currentState:a.STOPPED,currentTime:0,duration:0}},onClick:function(){this.state.currentState==a.STOPPED||this.state.currentState==a.ENDED?(Parse.Analytics.track("Listens",{device:"Iframe"}),s.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,"")?s.src=this.props.opusURL:s.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(s.src=this.props.mp3URL),s.play(),s.onended=this.onEnded,s.ontimeupdate=this.onTimeUpdate,this.setState({currentState:a.LOADING})):this.state.currentState==a.PLAYING?(s.pause(),this.setState({currentState:a.PAUSED})):this.state.currentState==a.PAUSED&&(s.play(),this.setState({currentState:a.PLAYING}))},onTimeUpdate:function(t){this.state.currentState!==a.PAUSED&&this.setState({duration:s.duration,currentState:a.PLAYING,currentTime:s.currentTime})},onEnded:function(){this.setState({currentState:a.ENDED,currentTime:0})},componentDidMount:function(){this.props.autoPlay&&this.onClick()},handleDownloadIconClick:function(t){Parse.Analytics.track("DownloadIconClick",{device:"Iframe",download_redirect:t})},render:function(){var t=o.DOM.img({style:{margin:"7px"},width:"35px",src:"/static/images/play.png"});this.state.currentState==a.LOADING?t=o.DOM.img({style:{margin:"7px"},width:"35px",src:"/static/images/spinner.gif"}):this.state.currentState==a.PLAYING&&(t=o.DOM.img({style:{margin:"7px"},width:"35px",src:"/static/images/pause.png"}));var e={position:"absolute",left:"50%",top:"50%",width:"50px",height:"50px",marginLeft:"-25px",borderRadius:"5px",marginTop:"-24px",background:"rgba(0, 0, 0, 0.7)",cursor:"pointer"},i={position:"absolute",top:"6px",left:"7px"},s=(this.props.frameWidth/6,{display:"none",width:"100%",position:"absolute",background:"rgba(0, 0, 0, 0.7)",bottom:"0px"}),r={width:"20%",marginLeft:"5%"};return this.state.currentState==a.ENDED&&(s.display="block"),o.DOM.div(null,o.DOM.div({style:e,onClick:this.onClick},t,n({style:i,width:37,height:37,lineWidth:4,percent:Math.min(Math.max(0,this.state.currentTime/this.state.duration||0),1)})),o.DOM.div({style:s},o.DOM.div({style:{color:"white",fontSize:this.props.fontSize}}," To share this clip on Whatsapp"),o.DOM.a({onClick:this.handleDownloadIconClick.bind(this,"android"),target:"_blank",href:"https://bit.ly/samosa-android"},o.DOM.img({style:r,src:"https://www.gstatic.com/android/market_images/web/play_logo_x2.png"})),o.DOM.a({onClick:this.handleDownloadIconClick.bind(this,"apple"),target:"_blank",href:"https://bit.ly/samosa-ios"},o.DOM.img({style:r,src:"http://www.yallatruck.com/wp-content/uploads/2014/08/apple-app-store-icon.jpg"})),o.DOM.a({onClick:this.handleDownloadIconClick.bind(this,"windows"),target:"_top",href:"https://www.microsoft.com/en-us/store/apps/samosa-chat/9nblggh0lcd0"},o.DOM.img({style:r,src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ7Tg4qXdHWu0tIEOYMjXe-coWZ2IooFRz5-OzKrfMcioSqmVj68Q"})),o.DOM.a({onClick:this.handleDownloadIconClick.bind(this,"chrome-plugin"),target:"_blank",href:"https://bit.ly/samosa-chrome"},o.DOM.img({style:r,src:"https://www.mailvelope.com/img/ChromeWebStore_Badge_v2_340x96.png"}))))}});t.exports=r},function(t,e,i){"use strict";var o=i(1),n=i(7),a=i(8),s=i(11),r=i(3),c=o.createClass({displayName:"actionButton",handleOnClick:function(){this.props.action(this.props.tag_value)},render:function(){return o.DOM.div({onClick:this.handleOnClick},r({text:this.props.text}))}}),p=o.createClass({displayName:"tdItem",render:function(){var t={textAlign:"center",padding:"5px",borderBottom:"1px solid #cbcbcb"};if(this.props.data){var e=["png","jpg"],i=["opus","mp3"];if(-1!=e.indexOf(this.props.data.split(".").pop()))var n=a({width:"80",src:this.props.data});else if(-1!=i.indexOf(this.props.data.split(".").pop()))var n=s({src:this.props.data});else var n=this.props.data}if(this.props.action)var n=c({tag_value:this.props.tag_value,text:this.props.name,action:this.props.action});return o.DOM.td({style:t},n)}}),l=o.createClass({displayName:"trItem",searchResult:function(){if(this.props.tdData){for(var t in this.props.tdData)if(-1!=this.props.tags.indexOf(t)){var e=this.props.tdData[t],i=new RegExp(this.props.search_value,"gi");if(e&&e.match(i))return!0}return!1}},render:function(){var t=[];if(this.props.tdData&&(this.searchResult()||""==this.props.search_value)){for(var e in this.props.tags){var i=this.props.tags[e],n=null!=this.props.tdData[i]?this.props.tdData[i]:null;t.push(p({data:n}))}if(this.props.actions)for(var a in this.props.actions){var s=this.props.actions[a],e=s.tag;t.push(p({tag_value:this.props.tdData[e],name:s.name,action:s["function"]}))}}return o.DOM.tr(null,t)}});t.exports=o.createClass({displayName:"exports",getInitialState:function(){return{search_value:"",sort_tag:"",sort_ascending:"false"}},searchTags:function(t){this.setState({search_value:t})},thOnClick:function(t){this.setState({sort_tag:t,sort_ascending:!this.state.sort_ascending})},render:function(){var t={border:"1px solid #cbcbcb",fontSize:"15px",background:"white"},e={width:"400px"};if(this.props.buttons){var i=this.props.data;console.log(i)}if(this.props.data){var a=this;this.state.sort_tag&&this.props.data.sort(function(t,e){return a.state.sort_ascending?t[a.state.sort_tag]-e[a.state.sort_tag]:e[a.state.sort_tag]-t[a.state.sort_tag]});var s=this.props.data.map(function(t,e){return l({actions:a.props.actions,search_value:a.state.search_value,tdData:t,key:e,tags:a.props.tags})})}if(this.props.tags)var a=this,r={backgroundColor:"#e0e0e0",color:"#000",textAlign:"center",padding:"8px",cursor:"pointer"},c=this.props.tags.map(function(t,e){return o.DOM.th({onClick:a.thOnClick.bind(a,t),style:r},t)});return o.DOM.div(null,o.DOM.div({style:e},n({placeholder:"search for tags",keyup:this.searchTags})),o.DOM.table({className:"table",style:t},o.DOM.tr(null,c),s))}})},function(t,e,i){"use strict";var o=i(1);t.exports=o.createClass({displayName:"exports",getInitialState:function(){return{focus_flag:!1}},Focus:function(){this.setState({focus_flag:!this.state.focus_flag})},keyUp:function(t){this.props.keyup(t.target.value)},render:function(){var t={width:"100%",height:"100%",lineHeight:"38px",paddingLeft:"10px",color:"#999",border:"1px solid #dcdcdc",fontFamily:"Helvetica,Arial",fontSize:"12px",margin:"5px",boxShadow:"1px 1px 7px #dcdcdc"};return this.state.focus_flag&&(t.outline="none",t.border="1px solid #d43f3a"),o.DOM.input({onKeyUp:this.keyUp,onFocus:this.Focus,onBlur:this.Focus,name:this.props.name,ref:this.props.ref,placeholder:this.props.placeholder,style:t})}})},function(t,e,i){"use strict";var o=i(1);t.exports=o.createClass({displayName:"exports",render:function(){return o.DOM.a({href:""},o.DOM.img({width:this.props.width,height:this.props.height,src:this.props.src}))}})},function(t,e,i){"use strict";var o=i(1),n=i(2),a=i(3),s=i(5);t.exports=o.createClass({displayName:"exports",getInitialState:function(){return{mouseEnter:!1}},MouseEvent:function(){this.setState({mouseEnter:!this.state.mouseEnter})},handleCopyClick:function(t){window.prompt("Copy to clipboard: Ctrl+C, Enter","http://app.getsamosa.com/play/"+t)},navigate:function(t){n(t)},render:function(){var t=this.props.data.poster_url,e={height:"218px",boxShadow:"0 2px 1px rgba(0, 0, 0, 0.3)",position:"relative",minHeight:"1px",borderRadius:"2px",width:"150px","float":"left",margin:"8px",cursor:"pointer",background:"white"},i={position:"relative",overflow:"hidden",backgroundImage:"url("+t+")",backgroundRepeat:"no-repeat",backgroundSize:"150px 150px",height:"150px"},n={whiteSpace:"nowrap",overflow:"hidden",fontSize:"13px",marginTop:"9px",marginBottom:"7px",marginRight:"7px",marginLeft:"6px",textAlign:"center"},r={border:"1px solid #f5f5f1",margin:"0px"},c={width:"55px","float":"left",textAlign:"center",marginLeft:"10px"},p={width:"55px","float":"right",textAlign:"center"},l={background:"rgba(0, 0, 0, .2)",textAlign:"center",width:"100%",height:"100%",transition:"all 0.3s ease-in-out"},h={marginTop:"9px"},d={display:"none",height:"32px"},u={marginRight:"4px","float":"left",width:"12px"},f={lineHeight:"12px","float":"left",fontSize:"10px"};return this.state.mouseEnter?(l.opacity=1,d.display="block",h.display="none"):(l.opacity=0,d.display="none",h.display="block"),o.DOM.div({onMouseLeave:this.MouseEvent,onMouseEnter:this.MouseEvent,style:e},o.DOM.div(null,o.DOM.div(null,o.DOM.div({style:i},o.DOM.div({style:l},s({opusURL:this.props.data.opus_url,mp3URL:this.props.data.mp3_url,frameWidth:150,frameHeight:150,controlSize:10,fontSize:9}))),o.DOM.div(null,o.DOM.p({onClick:this.navigate.bind(this,"/play/"+this.props.data.key),style:n}," ",this.props.data.transcript," "),o.DOM.hr({style:r})),o.DOM.div({onClick:this.handleCopyClick.bind(this,this.props.data.key),style:d},a({text:"SHARE"})),o.DOM.div({style:h},o.DOM.div({style:c},o.DOM.img({style:u,src:"/static/images/heart.png"}),o.DOM.span({style:f}," ",this.props.data.hearts," ")),o.DOM.div({style:p},o.DOM.img({style:u,src:"https://d3pl14o4ufnhvd.cloudfront.net/v2/uploads/67b846c5-9b77-4a95-a2dd-d693142ec62c/248efd9e468170fdaec1a1025760c23f0fe3adaa_original.png"}),o.DOM.span({style:f}," ",this.props.data.shares," "))))))}})},function(t,e,i){"use strict";var o=i(1),n=i(2),a=o.createClass({displayName:"ListItem",getDefaultProps:function(){return{isSelected:!1}},getInitialState:function(){return{hover_flag:!1,isSelected:!1}},hoverEvent:function(){this.setState({hover_flag:!this.state.hover_flag})},render:function(){var t={width:"20px","float":"left",marginLeft:"11px",marginRight:"11px",marginTop:"9px",WebkitFilter:"grayscale(1)"},e={"float":"left"},i={width:"100%",background:"white",height:"34px",textAlign:"center",lineHeight:"34px",listStyleType:"none",color:"#7f919e",fontSize:"14px",marginBottom:"5px",cursor:"pointer",border:"1px solid #e0e3e9",borderRadius:"3px"};return(this.props.isSelected||this.state.hover_flag)&&(t.WebkitFilter="grayscale(0)",i.color="#cc181e",i.background="#f8fafd"),o.DOM.li({onClick:this.props.click,onMouseEnter:this.hoverEvent,onMouseLeave:this.hoverEvent,style:i,key:this.props.name},o.DOM.img({style:t,src:this.props.image}),o.DOM.span({style:e}," ",this.props.name," "))}});t.exports=o.createClass({displayName:"exports",getInitialState:function(){return{click_flag:null}},clickEvent:function(t,e){this.setState({click_flag:t}),n("/"+e)},render:function(){var t={padding:"0px",margin:"20px"},e=this,i=this.props.data.map(function(t,i){var o=e.state.click_flag===i;return a({image:t.image_url,click:e.clickEvent.bind(e,i,t.url),isSelected:o,name:t.name,key:i})});return o.DOM.ul({style:t},i)}})},function(t,e,i){"use strict";var o=i(1);t.exports=o.createClass({displayName:"exports",componentDidUpdate:function(t,e){this.refs.audio.getDOMNode().load()},render:function(){return o.DOM.audio({ref:"audio",className:"audio",controls:!0},o.DOM.source({src:this.props.src}),"Your browser does not support the audio element.")}})},function(t,e,i){"use strict";var o=i(1);t.exports=o.createClass({displayName:"exports",getInitialState:function(){return{hover:!1}},hover:function(){this.setState({hover:!this.state.hover})},render:function(){var t={color:this.props.color,cursor:"pointer"};return this.state.hover&&(t.color=this.props.hover_color),o.DOM.a({onMouseEnter:this.hover,onMouseLeave:this.hover,style:t}," ",this.props.text," ")}})},function(t,e,i){"use strict";var o=i(1),n=i(2),a=i(8),s=i(7),r=i(3),c=i(12),p=i(16);t.exports=o.createClass({displayName:"exports",getInitialState:function(){return{queryText:null,open_modal:null,login:!1}},componentDidMount:function(){this.checkLogin(),window.fbAsyncInit=function(){FB.init({appId:"580678502050494",cookie:!0,xfbml:!0,version:"v2.1"}),FB.getLoginStatus(function(t){this.statusChangeCallback(t)}.bind(this))}.bind(this),function(t,e,i){var o,n=t.getElementsByTagName(e)[0];t.getElementById(i)||(o=t.createElement(e),o.id=i,o.src="//connect.facebook.net/en_US/sdk.js",n.parentNode.insertBefore(o,n))}(document,"script","facebook-jssdk")},testAPI:function(t){if(!sessionStorage.getItem("samosa_key")){console.log("Welcome!  Fetching your information.... ");var e=this,i=t.authResponse.accessToken;FB.api("/me",function(t){e.setCookie(i,t)})}},statusChangeCallback:function(t){"connected"===t.status?this.testAPI(t):"not_authorized"===t.status},checkLoginState:function(){FB.getLoginStatus(function(t){this.statusChangeCallback(t)}.bind(this))},setCookie:function(t,e){var i={facebook_id:e.id,email:e.email,full_name:e.name,gender:e.gender,facebook_token:t},o=this;gapi.client.samosa.api.auth.fb.login(i).execute(function(t){sessionStorage.setItem("samosa_key",t.auth_key),o.checkLogin()})},handleLoginClick:function(){FB.login(this.checkLoginState,{scope:"public_profile,email"})},handleLogoutClick:function(){FB.logout(),sessionStorage.setItem("samosa_key",""),this.setState({login:!1})},handleSubmimt:function(t){t.preventDefault();var e=this.refs.search.getDOMNode().value;n("/search/"+e)},openModal:function(){this.setState({open_modal:!0})},closeModal:function(){this.setState({open_modal:!1})},navigate:function(t){n(t)},checkLogin:function(){sessionStorage.getItem("samosa_key")&&this.setState({login:!0})},render:function(){var t={display:"block",width:"100%",backgroundColor:"#fff",height:"59px",position:"fixed",top:"0",left:"0",boxShadow:"0 0 5px rgba(0, 0, 0, .12)",zIndex:100},e={"float":"left",fontSize:"24px",marginTop:"9px",marginLeft:"5px",width:"134px",cursor:"pointer"},i={"float":"left",marginLeft:"20px",marginTop:"9px"},n={"float":"left",width:"43%",marginTop:"3px",height:"45px"},l={"float":"right",marginTop:"15px",width:"280px",height:"auto"},h={"float":"left",width:"100px",height:"30px",marginLeft:"38px",display:"block"},d={"float":"left",width:"100px",height:"30px",marginLeft:"38px",display:"block"},u={fontSize:"10px",width:"auto","float":"left",margin:"7px"},f={display:"none"};return this.state.open_modal&&(f.display="block"),this.state.login?h.display="none":d.display="none",o.DOM.div(null,o.DOM.div({style:t},o.DOM.div({onClick:this.navigate.bind(this,"/")},o.DOM.div({style:i}," ",a({src:"https://lh5.ggpht.com/oJpCSXfyxWeLDSM8GKN-SHyv8ZK29pF2NURecNkK1aQD_9mH0ZYscux07oNPgxog28RU=w300",width:"35",height:"35"})," "),o.DOM.div({style:e}," SAMOSA ")),o.DOM.div({id:"wrapper"},o.DOM.div({style:n},o.DOM.form({onSubmit:this.handleSubmimt},s({ref:"search",placeholder:"Search For Audio Clips"}))),o.DOM.div({style:l},o.DOM.div({onClick:this.openModal,style:u},c({text:"SELECT LANGUAGES",color:"black",hover_color:"#cc181e"})," "),o.DOM.div({onClick:this.handleLoginClick,style:h}," ",r({text:"LOGIN"}),"  "),o.DOM.div({onClick:this.handleLogoutClick,style:d}," ",r({text:"LOGOUT"})," ")))),o.DOM.div({style:f}," ",p({close_modal:this.closeModal})," "))}})},function(t,e,i){"use strict";var o=i(1),n=i(5),a=(o.createClass({displayName:"StoryImage",render:function(){return o.DOM.img({width:"100%",height:"100%",src:this.props.src})}}),o.createClass({displayName:"PoweredByMessage",handleLogoOnClick:function(){Parse.Analytics.track("LogoClick",{device:"Iframe"})},render:function(){var t={position:"fixed",top:"0px",left:"0px",background:"rgba(0, 0, 0, 0.4)",padding:"4px"};return o.DOM.div({style:t},o.DOM.a({onClick:this.handleLogoOnClick,href:"http://getsamosa.com",target:"_blank"},o.DOM.img({style:{"float":"left",marginRight:"4px"},width:"24px",height:"24px",src:"https://lh5.ggpht.com/oJpCSXfyxWeLDSM8GKN-SHyv8ZK29pF2NURecNkK1aQD_9mH0ZYscux07oNPgxog28RU=w300"}),o.DOM.div({style:{"float":"left",color:"white",marginTop:"4px",whiteSpace:"nowrap"}},"Powered by Samosa!")))}}));t.exports=o.createClass({displayName:"exports",getInitialState:function(){return Parse.Analytics.track("IframeEmbeds",{device:"Iframe"}),document.getElementById("left-side-bar").style.display="None",document.getElementById("header").style.display="None",{voice:[]}},componentDidMount:function(){this.search_by_key()},search_by_key:function(){var t=this;gapi.client.samosa.api.get_expression_by_key({id:this.props.params.key}).execute(function(e){t.setState({voice:e})})},render:function(){var t=this.state.voice.poster_url,e={position:"absolute",top:"0px",bottom:"0px",display:"block",width:"100%",backgroundImage:"url("+t+")",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"},i=512,s=512;return"undefined"!=typeof window&&(i=window.innerWidth,s=window.innerHeight),console.log(s),console.log(i),o.DOM.div(null,o.DOM.div({style:e},n({frameWidth:i,frameHeight:s,controlSize:64,opusURL:this.state.voice.opus_url,mp3URL:this.state.voice.mp3URL}),a(null)))}})},function(t,e,i){"use strict";var o=i(1),n=(i(5),i(4)),a=i(7),s=i(9),r=o.createClass({displayName:"showClip",getInitialState:function(){return{related_voices:[],iframe_width:0,iframe_height:0,preview_clip:!1}},componentDidMount:function(){var t=this;gapi.client.samosa.api.expressions.popular_by_rank().execute(function(e){t.setState({related_voices:e.voices})})},handleIframeSubmit:function(){var t=this.refs.iframe_height.getDOMNode().value,e=this.refs.iframe_width.getDOMNode().value;e||(e=0),t||(t=0),this.refs.preview_url.getDOMNode().value="<iframe src='https://app-dot-the-tasty-samosa.appspot.com/embed/"+this.props.data.key+"' width='"+e+"' height='"+t+"' border='0' scrolling='no' frameBorder='0'></iframe>",this.setState({iframe_height:t,iframe_width:e,preview_clip:!0})},render:function(){var t={position:"fixed","float":"left",background:"white",border:"1px solid #e8e8e8",padding:"5px",width:"41%"},e={"float":"right",background:"white",height:"auto",border:"1px solid #e8e8e8",padding:"10px",width:"47%"},i={"float":"left"},r={"float":"left",margin:"12px",width:"40%"},c=this.props.data.tags.reduce(function(t,e){return t+", "+e}),p={width:"90%",height:"55px"},l={width:"100%","float":"left",padding:"5px",display:"none"},h={width:"60%","float":"left",marginLeft:"2%",marginTop:"11%"};this.state.preview_clip&&(l.display="block");var d="/embed/"+this.props.data.key;return o.DOM.div(null,o.DOM.div({style:t},s({data:this.props.data}),o.DOM.div({style:i},o.DOM.img({src:"http://iconizer.net/files/IconSweets_2/orig/tags.png"})),o.DOM.div({style:r}," ",c," "),o.DOM.div({style:h},"Embed Clip: ",o.DOM.hr(null),o.DOM.input({placeholder:"width",ref:"iframe_width"}),o.DOM.input({placeholder:"height",ref:"iframe_height"}),o.DOM.input({value:"Get Preview !",type:"submit",onClick:this.handleIframeSubmit})),o.DOM.div({style:l},"Preview Url: ",o.DOM.hr(null),o.DOM.div({style:p},a({ref:"preview_url",placeholder:"preview url"})),o.DOM.br(null),o.DOM.iframe({src:d,width:this.state.iframe_width,height:this.state.iframe_height,border:"0",scrolling:"no",frameBorder:"0"}))),o.DOM.div({style:e},"RELATED CLIPS ",o.DOM.hr(null),n({clips:this.state.related_voices})))}});t.exports=o.createClass({displayName:"exports",getInitialState:function(){return{voice:null}},componentDidMount:function(){this.search_by_key(this.props.params.key)},componentWillReceiveProps:function(t,e){this.search_by_key(t.params.key)},search_by_key:function(t){var e=this;gapi.client.samosa.api.get_expression_by_key({id:t}).execute(function(t){e.setState({voice:t})})},render:function(){var t={position:"absolute",marginLeft:"200px",top:"70px",bottom:"0px",display:"block",padding:"9px",width:"83%"};if(this.state.voice)var e=r({data:this.state.voice});return o.DOM.div(null,o.DOM.div({style:t},e))}})},function(t,e,i){"use strict";var o=i(1),n=i(3);t.exports=o.createClass({displayName:"exports",componentDidMount:function(){window.addEventListener("keyup",this.handleKeyUp)},changeLanguage:function(){for(var t=document.getElementsByClassName("checkbox"),e=[],i=0;i<t.length;i++)if(t[i].checked){var o=t[i].value;e.push(o)}gapi.client.samosa.api.modify_user_language_preference({auth_key:sessionStorage.getItem("samosa_key"),languages:e}).execute(function(t){t.value&&(window.location.href="/popular-now")})},blur:function(){this.props.close_modal()},handleKeyUp:function(t){27==t.keyCode&&this.props.close_modal()},render:function(){var t={visibility:"visible",position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%",zIndex:"300",background:"rgba(0, 0, 0, 0.8)"},e={position:"absolute",width:"600px",height:"300px",left:"24%",top:"20%",backgroundColor:"#fff",border:"1px solid #000",padding:"15px",zIndex:"500"},i={display:"block",textAlign:"center"},a={display:"block"},s={width:"100px",height:"30px"};return sessionStorage.getItem("samosa_key")?i.display="none":a.display="none",o.DOM.div(null,o.DOM.div({onClick:this.blur,style:t}),o.DOM.div({style:e},o.DOM.div({style:i},"Please Login To Access This Feature"),o.DOM.div({style:a},"SELECT LANGUAGES ",o.DOM.hr(null),o.DOM.input({type:"checkbox",className:"checkbox",value:"hindi"}),"Hindi",o.DOM.br(null),o.DOM.input({type:"checkbox",className:"checkbox",value:"tamil"}),"Tamil",o.DOM.br(null),o.DOM.input({type:"checkbox",className:"checkbox",value:"telugu"}),"Telugu",o.DOM.br(null),o.DOM.input({type:"checkbox",className:"checkbox",value:"kannada"}),"Kannada",o.DOM.br(null),o.DOM.input({type:"checkbox",className:"checkbox",value:"malayalam"}),"Malayalam",o.DOM.br(null),o.DOM.br(null),o.DOM.div({style:s,onClick:this.changeLanguage},n({text:"SUBMIT"})))))}})},function(t,e,i){"use strict";var o=i(1),n=i(10);t.exports=o.createClass({displayName:"exports",render:function(){var t={position:"fixed",background:"white",height:"100%",left:"0",top:"60px",bottom:"0",display:"block",width:"200px",borderRight:"1px solid #e8e8e8"},e=[{name:"Trending Now",url:"popular-now",image_url:"https://www.kewlcircle.com/assets/images/trending.png"},{name:"Most Recent",url:"most-recent",image_url:"http://www.tablespoon.com/-/media/Images/Landing%20Page%20Icons/icon-recent.png"}],i={paddingTop:"10px",margin:"10px",border:"1px solid #e8e8e8",padding:"20px"};return o.DOM.div({style:t},n({data:e}),o.DOM.div({style:i},"Available In ",o.DOM.hr(null),o.DOM.br(null),o.DOM.a({href:"https://play.google.com/store/apps/details?id=com.getsamosa"},o.DOM.img({width:"100",src:"https://www.gstatic.com/android/market_images/web/play_logo_x2.png"})),o.DOM.br(null)," ",o.DOM.br(null),o.DOM.a({href:"https://itunes.apple.com/in/app/samosa-chat/id973054666?mt=8"},o.DOM.img({width:"100",src:"http://www.yallatruck.com/wp-content/uploads/2014/08/apple-app-store-icon.jpg"})),o.DOM.br(null),o.DOM.br(null),o.DOM.a({href:"https://www.microsoft.com/en-us/store/apps/samosa-chat/9nblggh0lcd0"},o.DOM.img({width:"100",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ7Tg4qXdHWu0tIEOYMjXe-coWZ2IooFRz5-OzKrfMcioSqmVj68Q"})),o.DOM.br(null),o.DOM.br(null),o.DOM.a({href:"https://chrome.google.com/webstore/detail/samosa/acghjnlbnackkloofkiebcicedbfipbg?hl=en"},o.DOM.img({width:"100",src:"https://www.mailvelope.com/img/ChromeWebStore_Badge_v2_340x96.png"}))))}})},function(t,e,i){"use strict";var o=i(1);i(2);t.exports=o.createClass({displayName:"exports",getInitialState:function(){return{facebookIconHover:!1}},fbIconhover:function(){this.setState({facebookIconHover:!this.state.facebookIconHover})},render:function(){var t={position:"absolute",top:"60px",bottom:"0px",display:"block",width:"100%",backgroundImage:"url(/public/images/collage.jpg)",backgroundRepeat:"no-repeat",backgroundSize:"cover"},e={position:"fixed",top:"50%",left:"50%",width:"400px",height:"230px",marginTop:"-120px",marginLeft:"-230px",backgroundColor:"#fff",boxShadow:"0 0 5px rgba(0, 0, 0, .12)",padding:"15px",textAlign:"center"},i={},n={opacity:.8};return this.state.facebookIconHover&&(n.opacity=1),o.DOM.div({style:t},o.DOM.div({style:e},o.DOM.div({style:i},o.DOM.a({href:"#",onClick:this.handleClick},o.DOM.img({style:n,onMouseEnter:this.fbIconhover,onMouseLeave:this.fbIconhover,width:"200",src:"https://pgprep.com/assets/images/icons/login-fb.png"
})))))}})},function(t,e,i){"use strict";var o=i(1),n=i(4);t.exports=o.createClass({displayName:"exports",getInitialState:function(){return{voices:[],cursor:""}},componentDidMount:function(){this.most_recent(),window.addEventListener("scroll",this.handleScroll)},componentDidUpdate:function(){var t=document.getElementById("show-clips").clientHeight,e=window.innerHeight;e>t&&(console.log("update"),this.most_recent())},most_recent:function(){var t=this;gapi.client.samosa.api.expressions.recent({cursor:this.state.cursor,auth_key:sessionStorage.getItem("samosa_key")}).execute(function(e){var i=t.state.voices.concat(e.voices);t.setState({voices:i,cursor:e.cursor})})},handleScroll:function(){window.innerHeight+window.scrollY+3>=this.getDocHeight()&&this.most_recent()},getDocHeight:function(){var t=document;return Math.max(Math.max(t.body.scrollHeight,t.documentElement.scrollHeight),Math.max(t.body.offsetHeight,t.documentElement.offsetHeight),Math.max(t.body.clientHeight,t.documentElement.clientHeight))},render:function(){var t={position:"absolute",marginLeft:"200px",top:"60px",bottom:"0px",display:"block",padding:"9px",width:"auto"};return o.DOM.div({style:t},n({clips:this.state.voices})," ")}})},function(t,e,i){"use strict";var o=i(1),n=i(4);t.exports=o.createClass({displayName:"exports",getInitialState:function(){return{voices:[],cursor:"",auth_key:""}},componentDidMount:function(){this.popular_now(),window.addEventListener("scroll",this.handleScroll)},componentDidUpdate:function(){var t=document.getElementById("show-clips").clientHeight,e=window.innerHeight;e>t&&this.popular_now()},popular_now:function(){var t=this;gapi.client.samosa.api.expressions.popular({cursor:this.state.cursor,auth_key:sessionStorage.getItem("samosa_key")}).execute(function(e){var i=t.state.voices.concat(e.voices);t.setState({voices:i,cursor:e.cursor})})},handleScroll:function(){window.innerHeight+window.scrollY+3>=this.getDocHeight()&&this.popular_now()},getDocHeight:function(){var t=document;return Math.max(Math.max(t.body.scrollHeight,t.documentElement.scrollHeight),Math.max(t.body.offsetHeight,t.documentElement.offsetHeight),Math.max(t.body.clientHeight,t.documentElement.clientHeight))},render:function(){var t={position:"absolute",marginLeft:"200px",top:"60px",bottom:"0px",display:"block",padding:"9px",width:"auto"};return o.DOM.div({style:t},n({clips:this.state.voices}))}})},function(t,e,i){"use strict";var o=i(1),n=i(4);t.exports=o.createClass({displayName:"exports",getInitialState:function(){return{voices:[],cursor:"",search_result:!1,more:!0}},componentDidMount:function(){this.search_by_tags(),window.addEventListener("scroll",this.handleScroll)},componentDidUpdate:function(){var t=document.getElementById("show-clips").clientHeight,e=window.innerHeight;e>t&&(console.log("update"),this.state.more&&this.search_by_tags())},componentWillReceiveProps:function(t,e){this.setState({voices:[],cursor:"",search_result:!0})},search_by_tags:function(){var t=this.props.params.queryText;if(!t)return"No Videos Found with this tag :( !";var e=this;gapi.client.samosa.api.get_search_results({tags:t,cursor:this.state.cursor}).execute(function(t){console.log(t);var i=e.state.voices.concat(t.voices);e.setState({voices:i,cursor:t.cursor,search_result:!1,more:t.more})})},handleScroll:function(){window.innerHeight+window.scrollY+3>=this.getDocHeight()&&this.search_by_tags()},getDocHeight:function(){var t=document;return Math.max(Math.max(t.body.scrollHeight,t.documentElement.scrollHeight),Math.max(t.body.offsetHeight,t.documentElement.offsetHeight),Math.max(t.body.clientHeight,t.documentElement.clientHeight))},render:function(){var t={position:"absolute",marginLeft:"200px",top:"60px",bottom:"0px",display:"block",padding:"9px",width:"auto"};return o.DOM.div({style:t},n({clips:this.state.voices}))}})},function(t,e,i){"use strict";var o=i(1),n=i(10);t.exports=o.createClass({displayName:"exports",render:function(){var t={position:"fixed",background:"white",height:"100%",left:"0",top:"60px",bottom:"0",display:"block",width:"200px",borderRight:"1px solid #e8e8e8"},e=[{name:"Unapproved",url:"admin/dashboard/",image_url:""},{name:"Approved",url:"admin/dashboard/view-approved",image_url:""}];return o.DOM.div({style:t},n({data:e}))}})},function(t,e,i){"use strict";var o=i(1),n=i(6);t.exports=o.createClass({displayName:"exports",getInitialState:function(){return{voices:null,popular_now:!0}},componentDidMount:function(){var t=this;$.get("/test.json",function(e){t.setState({voices:e.voices})})},approve:function(t){for(var e=this.state.voices,i=[],o=0;o<e.length;o++)e[o].key!=t&&i.push(e[o]);this.setState({voices:i})},reject:function(){},handleOnClick:function(){},render:function(){var t={position:"absolute",marginLeft:"200px",top:"60px",bottom:"0px",display:"block",padding:"9px",width:"auto"};return o.DOM.div({style:t},o.DOM.button({name:"next",onClick:this.handleOnClick}," Next "),o.DOM.br(null),n({tags:["transcript","hearts","duration","language","listens","shares","poster_url","mp3_url"],actions:[{name:"approve","function":this.approve,tag:"key"},{name:"Reject","function":this.reject,tag:"key"}],data:this.state.voices}))}})},function(t,e,i){"use strict";var o=i(1),n=i(6);t.exports=o.createClass({displayName:"exports",popular_now:function(){var t=this;gapi.client.samosa.api.expressions.popular().execute(function(e){console.log(e),t.setState({voices:e.voices,popular_now:!1})})},getInitialState:function(){return{voices:null,popular_now:!0}},action:function(){console.log("hie")},render:function(){this.state.popular_now&&this.popular_now();var t={position:"absolute",marginLeft:"200px",top:"60px",bottom:"0px",display:"block",padding:"9px",width:"auto"};return o.DOM.div({style:t},n({buttons:[{action:this.action}],tags:["caption","language","shares","thumbnail_url","opus_url"],data:this.state.voices}))}})},function(t,e,i){"use strict";var o=i(1),n=i(6);t.exports=o.createClass({displayName:"exports",getInitialState:function(){return{voices:null,cursor:null}},componentDidMount:function(){console.log("componentDidMount");var t=this;$.get("https://dashboard-dev-dot-the-tasty-samosa.appspot.com/dashboard_get_unapproved",function(e){console.log(e.voices),t.setState({voices:e.voices,cursor:e.cursor})})},approve:function(t){var e=this;$.ajax({type:"POST",url:"https://dashboard-dev-dot-the-tasty-samosa.appspot.com/dashboard_post_unapproved",data:{expression_key:t,approval_status:1},success:function(i){for(var o=e.state.voices,n=[],a=0;a<o.length;a++)o[a].key!=t&&n.push(o[a]);e.setState({voices:n})},error:function(t,e,i){alert(i)}})},reject:function(){},handleClickNext:function(){var t=this;$.get("https://dashboard-dev-dot-the-tasty-samosa.appspot.com/dashboard_get_unapproved",{cursor:this.state.cursor},function(e){var i=t.state.voices.concat(e.voices);t.setState({voices:i,cursor:e.cursor})})},render:function(){var t={position:"absolute",marginLeft:"200px",top:"60px",bottom:"0px",display:"block",padding:"9px",width:"auto"};return o.DOM.div({style:t},o.DOM.button({onClick:this.handleClickNext},"NEXT"),n({tags:["transcript","hearts","duration","language","listens","shares","poster_url","mp3_url"],actions:[{name:"approve","function":this.approve,tag:"key"},{name:"Reject","function":this.reject,tag:"key"}],data:this.state.voices}))}})},function(t,e,i){function o(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function n(t,e){return t.keys=e,t}function a(t){return t.sensitive?"":"i"}function s(t,e){var i=t.source.match(/\((?!\?)/g);if(i)for(var o=0;o<i.length;o++)e.push({name:o,delimiter:null,optional:!1,repeat:!1});return n(t,e)}function r(t,e,i){for(var o=[],s=0;s<t.length;s++)o.push(p(t[s],e,i).source);var r=new RegExp("(?:"+o.join("|")+")",a(i));return n(r,e)}function c(t,e){function i(t,i,a,s,r,c,p,l){if(i)return i;if(l)return"\\"+l;var h="+"===p||"*"===p,d="?"===p||"*"===p;return e.push({name:s||n++,delimiter:a||"/",optional:d,repeat:h}),a=a?"\\"+a:"",r=o(r||c||"[^"+(a||"\\/")+"]+?"),h&&(r=r+"(?:"+a+r+")*"),d?"(?:"+a+"("+r+"))?":a+"("+r+")"}var n=0;return t.replace(h,i)}function p(t,e,i){if(e=e||[],l(e)?i||(i={}):(i=e,e=[]),t instanceof RegExp)return s(t,e,i);if(l(t))return r(t,e,i);var o=i.strict,p=i.end!==!1,h=c(t,e),d="/"===t.charAt(t.length-1);return o||(h=(d?h.slice(0,-2):h)+"(?:\\/(?=$))?"),h+=p?"$":o&&d?"":"(?=\\/|$)",n(new RegExp("^"+h,a(i)),e)}var l=i(27);t.exports=p;var h=new RegExp(["(\\\\.)","([\\/.])?(?:\\:(\\w+)(?:\\(((?:\\\\.|[^)])*)\\))?|\\(((?:\\\\.|[^)])*)\\))([+*?])?","([.+*?=^!:${}()[\\]|\\/])"].join("|"),"g")},function(t,e,i){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,i){function o(){if(!r){r=!0;for(var t,e=s.length;e;){t=s,s=[];for(var i=-1;++i<e;)t[i]();e=s.length}r=!1}}function n(){}var a=t.exports={},s=[],r=!1;a.nextTick=function(t){s.push(t),r||setTimeout(o,0)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=n,a.addListener=n,a.once=n,a.off=n,a.removeListener=n,a.removeAllListeners=n,a.emit=n,a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}}]);